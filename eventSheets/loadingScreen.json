{
	"name": "loadingScreen",
	"events": [
		{
			"eventType": "variable",
			"name": "targetLayout",
			"type": "string",
			"initialValue": "",
			"comment": "The layout to change to",
			"isStatic": false,
			"isConstant": false,
			"sid": 359592679113279
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-x-seconds",
					"objectClass": "System",
					"sid": 578196929836979,
					"parameters": {
						"interval-seconds": "0.5"
					}
				}
			],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "loadingText",
					"sid": 967955305651121,
					"parameters": {
						"text": "Self.Text = \"loading...\" ? \"loading\" : Self.Text & \".\""
					}
				}
			],
			"sid": 901007134028296
		},
		{
			"functionName": "changeLayout",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "layoutToGoTo",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 821222262544592
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 129408778690488,
					"parameters": {
						"variable": "targetLayout",
						"value": "layoutToGoTo"
					}
				},
				{
					"id": "go-to-layout",
					"objectClass": "System",
					"sid": 342206759884725,
					"parameters": {
						"layout": "loadingScreen"
					}
				}
			],
			"sid": 742658753939417
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 784297342511893
				}
			],
			"actions": [],
			"sid": 291243571342097,
			"children": [
				{
					"eventType": "variable",
					"name": "MINIMUM_LOADINGSCREEN_TIME",
					"type": "number",
					"initialValue": "1",
					"comment": "The minimum amount of time to show the loading screen, in seconds.",
					"isStatic": false,
					"isConstant": true,
					"sid": 194169361633105
				},
				{
					"eventType": "variable",
					"name": "minimumLoadingScreenExpiryTime",
					"type": "number",
					"initialValue": "0",
					"comment": "The time that the loading screen should last until, at minimum.",
					"isStatic": true,
					"isConstant": false,
					"sid": 296354287699383
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 440739585669825,
							"parameters": {
								"variable": "minimumLoadingScreenExpiryTime",
								"value": "wallclocktime + MINIMUM_LOADINGSCREEN_TIME"
							}
						},
						{
							"id": "stop-all",
							"objectClass": "Audio",
							"sid": 753063338919919
						},
						{
							"type": "comment",
							"text": "This wait 0 prevents the loading from occurring before we get to the loading screen."
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 104768621326518,
							"parameters": {
								"seconds": "0"
							}
						},
						{
							"id": "load-layout-images-by-name",
							"objectClass": "System",
							"sid": 594192819577717,
							"parameters": {
								"layout": "targetLayout"
							}
						},
						{
							"id": "wait-for-previous-actions",
							"objectClass": "System",
							"sid": 476462363078746
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 823499413823762,
							"parameters": {
								"seconds": "minimumLoadingScreenExpiryTime - wallclocktime"
							}
						},
						{
							"id": "go-to-layout-by-name",
							"objectClass": "System",
							"sid": 314961677692135,
							"parameters": {
								"layout": "targetLayout"
							}
						}
					],
					"sid": 266282522182230
				}
			]
		}
	],
	"sid": 870563530335933
}