{
	"name": "mainMenu",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "allLayouts"
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "main menu",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "FIRST_LAYOUT",
					"type": "string",
					"initialValue": "farm",
					"comment": "The name of the layout to go to after after the main menu.",
					"isStatic": false,
					"isConstant": true,
					"sid": 505358137732277
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-object-clicked",
							"objectClass": "mouse",
							"sid": 513273473779613,
							"parameters": {
								"mouse-button": "left",
								"click-type": "clicked",
								"object-clicked": "play"
							}
						}
					],
					"actions": [
						{
							"id": "play-at-object-by-name",
							"objectClass": "audio",
							"sid": 112808181784737,
							"parameters": {
								"folder": "sounds",
								"audio-file-name": "Functions.soundEffectName(MENU_OPEN_KEYWORD)",
								"loop": "not-looping",
								"volume": "DEFAULT_STEREO_PAN",
								"object": "play",
								"inner-angle": "NON_DIRECTIONAL_INNER_ANGLE",
								"outer-angle": "NON_DIRECTIONAL_OUTER_ANGLE",
								"outer-gain": "NON_DIRECTIONAL_OUTER_GAIN",
								"tag-optional": "MENU_OPEN_KEYWORD"
							}
						},
						{
							"callFunction": "Change layout",
							"sid": 934225930353188,
							"parameters": [
								"FIRST_LAYOUT",
								false
							]
						}
					],
					"sid": 620884769961856
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 280553362269890
						}
					],
					"actions": [
						{
							"id": "set-looping",
							"objectClass": "video",
							"sid": 943770953649697,
							"parameters": {
								"mode": "looping"
							}
						},
						{
							"id": "set-text",
							"objectClass": "versionText",
							"sid": 130196031881065,
							"parameters": {
								"text": "projectversion"
							}
						},
						{
							"type": "comment",
							"text": "Set up arrays."
						},
						{
							"id": "request-project-file",
							"objectClass": "ajax",
							"sid": 444658597603327,
							"parameters": {
								"tag": "NOT_USED",
								"file": "tips.json"
							}
						},
						{
							"id": "wait-for-previous-actions",
							"objectClass": "System",
							"sid": 809519838010153
						},
						{
							"id": "load",
							"objectClass": "tips",
							"sid": 981862557028016,
							"parameters": {
								"json": "AJAX.LastData"
							}
						},
						{
							"id": "request-project-file",
							"objectClass": "ajax",
							"sid": 727762287180843,
							"parameters": {
								"tag": "NOT_USED",
								"file": "abilities.json"
							}
						},
						{
							"id": "wait-for-previous-actions",
							"objectClass": "System",
							"sid": 821541988095839
						},
						{
							"id": "load",
							"objectClass": "abilitiesArray",
							"sid": 635498565319023,
							"parameters": {
								"json": "AJAX.LastData"
							}
						},
						{
							"id": "request-project-file",
							"objectClass": "ajax",
							"sid": 528457112839553,
							"parameters": {
								"tag": "NOT_USED",
								"file": "equipment.json"
							}
						},
						{
							"id": "wait-for-previous-actions",
							"objectClass": "System",
							"sid": 254787881998834
						},
						{
							"id": "load",
							"objectClass": "equipmentArray",
							"sid": 363219999566631,
							"parameters": {
								"json": "AJAX.LastData"
							}
						},
						{
							"id": "request-project-file",
							"objectClass": "ajax",
							"sid": 168667371891151,
							"parameters": {
								"tag": "NOT_USED",
								"file": "npcDialog.json"
							}
						},
						{
							"id": "wait-for-previous-actions",
							"objectClass": "System",
							"sid": 799771817070481
						},
						{
							"id": "load",
							"objectClass": "npcDialogArray",
							"sid": 595322981635016,
							"parameters": {
								"json": "AJAX.LastData"
							}
						},
						{
							"id": "request-project-file",
							"objectClass": "ajax",
							"sid": 692820183468184,
							"parameters": {
								"tag": "NOT_USED",
								"file": "layoutProperties.json"
							}
						},
						{
							"id": "wait-for-previous-actions",
							"objectClass": "System",
							"sid": 412238467960310
						},
						{
							"id": "load",
							"objectClass": "layoutProperties",
							"sid": 128909239749114,
							"parameters": {
								"json": "AJAX.LastData"
							}
						},
						{
							"type": "comment",
							"text": "Set up dictionaries."
						},
						{
							"id": "request-project-file",
							"objectClass": "ajax",
							"sid": 722782480464102,
							"parameters": {
								"tag": "NOT_USED",
								"file": "mods.json"
							}
						},
						{
							"id": "wait-for-previous-actions",
							"objectClass": "System",
							"sid": 336464539963689
						},
						{
							"id": "load",
							"objectClass": "mods",
							"sid": 649081158678593,
							"parameters": {
								"json": "AJAX.LastData"
							}
						},
						{
							"id": "request-project-file",
							"objectClass": "ajax",
							"sid": 292238343786003,
							"parameters": {
								"tag": "NOT_USED",
								"file": "soundEffectVariants.json"
							}
						},
						{
							"id": "wait-for-previous-actions",
							"objectClass": "System",
							"sid": 493620066116268
						},
						{
							"id": "load",
							"objectClass": "soundEffectVariants",
							"sid": 692478627582061,
							"parameters": {
								"json": "AJAX.LastData"
							}
						},
						{
							"type": "comment",
							"text": "Create the mod values probability table, which gets populated during loot generation."
						},
						{
							"id": "createProbabilityTable",
							"objectClass": "advancedRandom",
							"sid": 544371434222539,
							"parameters": {
								"name": "MOD_VALUES_PROBABILITY_TABLE"
							}
						},
						{
							"type": "comment",
							"text": "Map function mods."
						},
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 345890480257314,
							"parameters": {
								"name": "MODS_KEYWORD",
								"string": "\"flatHealth\"",
								"function": "Flat health"
							}
						},
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 733642978878028,
							"parameters": {
								"name": "MODS_KEYWORD",
								"string": "\"flatSlash\"",
								"function": "Flat slash damage"
							}
						},
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 829554034994622,
							"parameters": {
								"name": "MODS_KEYWORD",
								"string": "\"flatStab\"",
								"function": "Flat stab damage"
							}
						},
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 255640528730017,
							"parameters": {
								"name": "MODS_KEYWORD",
								"string": "\"flatSmash\"",
								"function": "Flat smash damage"
							}
						},
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 841984934461800,
							"parameters": {
								"name": "MODS_KEYWORD",
								"string": "\"flatArmor\"",
								"function": "Flat armor"
							}
						},
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 717066286693037,
							"parameters": {
								"name": "MODS_KEYWORD",
								"string": "\"flatManaRegen\"",
								"function": "Flat mana regen"
							}
						},
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 408565706906119,
							"parameters": {
								"name": "MODS_KEYWORD",
								"string": "\"flatSlashAndStab\"",
								"function": "Flat smash and stab damage"
							}
						},
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 107983141996073,
							"parameters": {
								"name": "MODS_KEYWORD",
								"string": "\"flatPhysical\"",
								"function": "Flat physical"
							}
						}
					],
					"sid": 475031808944228,
					"children": [
						{
							"eventType": "variable",
							"name": "DROP_TABLE_COLUMN_NAME",
							"type": "string",
							"initialValue": "dropTable",
							"comment": "The name of the drop table column.",
							"isStatic": false,
							"isConstant": true,
							"sid": 250169704116139
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 479856848254122,
									"parameters": {
										"name": "NOT_USED",
										"start-index": "LOOP_OFFSET",
										"end-index": "layoutProperties.Height - LOOP_OFFSET"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Set up drop tables."
								},
								{
									"id": "createProbabilityTableFromJSON",
									"objectClass": "advancedRandom",
									"sid": 482907148851059,
									"parameters": {
										"name": "layoutProperties.At(Functions.getColumnNumber(layoutProperties.ObjectTypeName, SIMPLE_NAME_KEYWORD), loopindex)",
										"json": "layoutProperties.At(Functions.getColumnNumber(layoutProperties.ObjectTypeName, DROP_TABLE_COLUMN_NAME), loopindex)"
									}
								}
							],
							"sid": 121768453785672
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 390296103376795,
									"parameters": {
										"name": "NOT_USED",
										"start-index": "LOOP_OFFSET",
										"end-index": "equipmentArray.Height - LOOP_OFFSET"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Set up drop tables."
								},
								{
									"id": "createProbabilityTableFromJSON",
									"objectClass": "advancedRandom",
									"sid": 841573585892947,
									"parameters": {
										"name": "equipmentArray.At(Functions.getColumnNumber(equipmentArray.ObjectTypeName, SIMPLE_NAME_KEYWORD), loopindex)",
										"json": "equipmentArray.At(Functions.getColumnNumber(equipmentArray.ObjectTypeName, MODS_KEYWORD), loopindex)"
									}
								}
							],
							"sid": 896599934700102
						}
					]
				}
			],
			"sid": 608494637955654
		}
	],
	"sid": 722961205554376
}