{
	"name": "splashScreen",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "allLayouts"
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "splash screen",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "ELLIPSIS_UPDATE_INTERVAL",
					"type": "number",
					"initialValue": "0.5",
					"comment": "How often to add an additional ellipsis dot, in seconds.",
					"isStatic": false,
					"isConstant": true,
					"sid": 268099722653388
				},
				{
					"eventType": "variable",
					"name": "LAUNCHER_TEXT_TWEEN_SPEED",
					"type": "number",
					"initialValue": "1",
					"comment": "How fast the launcher text should complete an opacity tween, in seconds.",
					"isStatic": false,
					"isConstant": true,
					"sid": 619882278694665
				},
				{
					"eventType": "variable",
					"name": "FINISHED_LOADING_PROGRESS_VALUE",
					"type": "number",
					"initialValue": "1",
					"comment": "The value of LoadingProgress when loading has completed.",
					"isStatic": false,
					"isConstant": true,
					"sid": 856980012090467
				},
				{
					"eventType": "variable",
					"name": "LAUNCHER_TEXT_OPACITY",
					"type": "number",
					"initialValue": "10",
					"comment": "The opacity that the launcher text should tween until.",
					"isStatic": false,
					"isConstant": true,
					"sid": 901041560284651
				},
				{
					"eventType": "variable",
					"name": "ELLIPSIS_DOT",
					"type": "string",
					"initialValue": ".",
					"comment": "The character used to form ellipses.",
					"isStatic": false,
					"isConstant": true,
					"sid": 999104870172556
				},
				{
					"eventType": "variable",
					"name": "UPDATE_AVAILABLE_TEXT",
					"type": "string",
					"initialValue": "Update available. Downloading",
					"comment": "The text to display when an update is available and is currently being downloaded.",
					"isStatic": false,
					"isConstant": true,
					"sid": 488745938124197
				},
				{
					"eventType": "variable",
					"name": "updateAvailable",
					"type": "boolean",
					"initialValue": "false",
					"comment": "Whether or not an update is available.",
					"isStatic": true,
					"isConstant": false,
					"sid": 255447198174867
				},
				{
					"eventType": "comment",
					"text": "There's no way to do an \"On update not found\" trigger: https://www.construct.net/en/forum/construct-3/how-do-i-8/start-game-browser-not-update-175590"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-update-found-sw",
							"objectClass": "browser",
							"sid": 691497159284594
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 298649766153894,
							"parameters": {
								"variable": "updateAvailable",
								"value": "true"
							}
						},
						{
							"id": "set-text",
							"objectClass": "launcherMessage",
							"sid": 649009066183731,
							"parameters": {
								"text": "UPDATE_AVAILABLE_TEXT"
							}
						}
					],
					"sid": 732686039218090
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 438783416248417,
							"parameters": {
								"variable": "updateAvailable"
							}
						},
						{
							"id": "every-x-seconds",
							"objectClass": "System",
							"sid": 535289092471855,
							"parameters": {
								"interval-seconds": "ELLIPSIS_UPDATE_INTERVAL"
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "launcherMessage",
							"sid": 932093525646889,
							"parameters": {
								"text": "Self.Text = UPDATE_AVAILABLE_TEXT & ELLIPSIS_DOT & ELLIPSIS_DOT & ELLIPSIS_DOT ? UPDATE_AVAILABLE_TEXT : Self.Text & ELLIPSIS_DOT"
							}
						}
					],
					"sid": 703324802027352
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-update-ready-sw",
							"objectClass": "browser",
							"sid": 914907367177721
						}
					],
					"actions": [
						{
							"id": "reload",
							"objectClass": "browser",
							"sid": 643091263556062
						}
					],
					"sid": 736856252742852
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 774700340711731
						}
					],
					"actions": [
						{
							"id": "tween-one-property",
							"objectClass": "fader",
							"sid": 500512084369184,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "Self.ObjectTypeName",
								"property": "offsetOpacity",
								"end-value": "TRANSPARENT_OPACITY",
								"time": "LAYOUT_FADE_TIME",
								"ease": "noease",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "TWEEN_REPEAT_COUNT"
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "launcherMessage",
							"sid": 622772192414724,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "Self.ObjectTypeName & SEPARATOR & \"opacity tween\"",
								"property": "offsetOpacity",
								"end-value": "LAUNCHER_TEXT_OPACITY",
								"time": "LAUNCHER_TEXT_TWEEN_SPEED",
								"ease": "easeinoutsine",
								"destroy-on-complete": "no",
								"loop": "yes",
								"ping-pong": "yes",
								"repeat-count": "INFINITE_REPEAT_COUNT"
							}
						}
					],
					"sid": 277147762016600
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-key-pressed",
							"objectClass": "keyboard",
							"sid": 151169116968630
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 840931282979907,
							"parameters": {
								"variable": "updateAvailable"
							},
							"isInverted": true
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 808063268364941,
							"parameters": {
								"first-value": "loadingprogress",
								"comparison": 0,
								"second-value": "FINISHED_LOADING_PROGRESS_VALUE"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "If we've finished loading and there's no update, start the game."
						},
						{
							"callFunction": "changeLayout",
							"sid": 792806521331426,
							"parameters": [
								"\"mainMenu\"",
								true
							]
						}
					],
					"sid": 596130575223459
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 522764544748935,
							"parameters": {
								"first-value": "loadingprogress",
								"comparison": 1,
								"second-value": "FINISHED_LOADING_PROGRESS_VALUE"
							}
						}
					],
					"actions": [
						{
							"id": "set-visible",
							"objectClass": "launcherMessage",
							"sid": 326618954085655,
							"parameters": {
								"visibility": "invisible"
							}
						},
						{
							"id": "set-visible",
							"objectClass": "loadingBarFrame",
							"sid": 647600223397914,
							"parameters": {
								"visibility": "visible"
							}
						},
						{
							"id": "set-image-scale-x",
							"objectClass": "loadingBar",
							"sid": 533370799125088,
							"parameters": {
								"scale-x": "loadingprogress * 100"
							}
						}
					],
					"sid": 181118355525718
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 710547151992762
						}
					],
					"actions": [
						{
							"id": "set-visible",
							"objectClass": "launcherMessage",
							"sid": 471207418511441,
							"parameters": {
								"visibility": "visible"
							}
						},
						{
							"id": "set-visible",
							"objectClass": "loadingBarFrame",
							"sid": 694825951034526,
							"parameters": {
								"visibility": "invisible"
							}
						}
					],
					"sid": 830884642059031
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-object-clicked",
							"objectClass": "mouse",
							"sid": 934940274268889,
							"parameters": {
								"mouse-button": "left",
								"click-type": "clicked",
								"object-clicked": "fullscreenIcon"
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "We tried using an SVG for this fullscreen icon, but it caused the entire project to load before showing the loader layout. We were unable to duplicate this bug in a new project."
						}
					],
					"sid": 551410993474741,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-fullscreen",
									"objectClass": "browser",
									"sid": 102988732446380
								}
							],
							"actions": [
								{
									"id": "cancel-fullscreen",
									"objectClass": "browser",
									"sid": 236394121614606
								}
							],
							"sid": 343296602415546
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 687952442055542
								}
							],
							"actions": [
								{
									"id": "request-fullscreen",
									"objectClass": "browser",
									"sid": 627588659576075,
									"parameters": {
										"mode": "stretch-letterbox-scale",
										"navigation-ui": "auto"
									}
								}
							],
							"sid": 521592820833468
						}
					]
				}
			],
			"sid": 297998252022528
		}
	],
	"sid": 267646085855592
}